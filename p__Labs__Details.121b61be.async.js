(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{LQBB:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sRBo");var n=l(a("kaz8"));a("14J3");var r=l(a("BMrR"));a("Awhp");var d=l(a("KrTs"));a("jCWc");var o=l(a("kPKH"));a("iQDF");var u=l(a("+eQT"));a("Telt");var i=l(a("Tckk"));a("bP8k");var c=l(a("gFTJ"));a("+L6B");var f=l(a("2/Rp"));a("P2fV");var s=l(a("NJEC"));a("Pwec");var m=l(a("CtXQ"));a("/zsF");var p=l(a("PArb")),v=l(a("2Taf")),y=l(a("vZ4D")),E=l(a("MhPg")),g=l(a("l4Ni")),h=l(a("ujKo"));a("y8nQ");var D=l(a("Vl3Y"));a("IzEo");var b=l(a("bx4M"));a("Znn+");var k=l(a("ZTPi")),I=B(a("q1tI")),w=a("MuoO"),C=l(a("3a4m")),T=l(a("wd/R")),P=(l(a("CkN6")),a("CjPp")),A=(l(a("wHCo")),l(a("XwBy"))),N=l(a("zHco"));a("91UR");var x,M,O,S=l(a("hH84"));function j(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var d=n?Object.getOwnPropertyDescriptor(e,r):null;d&&(d.get||d.set)?Object.defineProperty(l,r,d):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function R(e){var t=Y();return function(){var a,l=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return(0,g.default)(this,a)}}function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var z=k.default.TabPane,J=b.default.Meta,H=D.default.Item,L=["On","Off"],_="YYYY/MM/DD",F=(x=(0,w.connect)(function(e){var t=e.login,a=e.labs,l=e.users,n=e.settings,r=e.orders,d=e.tests,o=e.slots,u=e.loading;return{token:t.currentUser.Authorization,singleData:a.singleData?a.singleData:{},isAddEdit:a.isAddEdit,orderData:r.data,testsData:d.data.list,slotsData:o.data.list,labAdminData:l.data.list,settings:n.data[0]?n.data[0]:{},submitting:u.effects["labs/fetchSingleData"]}}),M=D.default.create(),x(O=M(O=function(e){(0,E.default)(a,e);var t=R(a);function a(){var e;(0,v.default)(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),e.state={pageId:null,pagePath:null,isEdit:!1},e.handlePageChange=function(t,a){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var l=e.props,n=l.dispatch,r=l.token,d=l.match,o=d.params?d.params.id:null,u={page:t};u.customerId=o,u.filter=JSON.stringify({pageNo:t,pageSize:10}),n({type:"orders/fetchData",payload:u,token:r})},e.columns=[{title:"Customer Name",dataIndex:"customer",sorter:!0,render:function(e){var t;return I.default.createElement("div",null,e?null===e||void 0===e?void 0:null===(t=e.profile)||void 0===t?void 0:t.name:"")}},{title:"Date",dataIndex:"createdAt",render:function(e){return I.default.createElement("div",null,e?(0,T.default)(e).format("DD/MM/YYYY"):"")}},{title:"Items",dataIndex:"items",render:function(e){return I.default.createElement("div",null,e.length)}},{title:"Test Center",dataIndex:"testCenter",render:function(e){return I.default.createElement("div",null,e?null===e||void 0===e?void 0:e.labName:"")}},{title:"Coll. Type",dataIndex:"collType"},{title:"Booking Slot",dataIndex:"slots",render:function(e){return I.default.createElement("div",null,e?"".concat(e.startTime," - ").concat(e.endTime):"")}},{title:"Reports",dataIndex:"reports"},{title:"Status",dataIndex:"status",render:function(e){return I.default.createElement("div",{style:{color:L[e]}},e)}},{title:"Actions",render:function(t,a){return I.default.createElement(I.Fragment,null,I.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.viewItem(a)}},I.default.createElement(P.AntDesign,{name:"rightcircle",color:"#6558f5",size:17})),I.default.createElement(p.default,{type:"vertical"}),I.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.editItem(a)}},I.default.createElement(P.AntDesign,{name:"edit",color:"green",size:17})),I.default.createElement(p.default,{type:"vertical"}),I.default.createElement(s.default,{title:"Are you sure delete this?",onConfirm:function(){return e.deleteItem(a)},okText:"Yes",cancelText:"No"},I.default.createElement(m.default,{style:{color:"#ff0000"},type:"delete",className:S.default.icon})))}}],e.handleSlots=function(t,a){var l=e.props,n=l.dispatch,r=l.token,d=e.state.pageId;"Invalid Date"!=new Date(a)&&n({type:"slots/fetchData",payload:{labID:d,slotDate:a.replaceAll("/","-")},token:r})},e}return(0,y.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.token,l=e.match,n=l.params?l.params.id:null,r=l.path.split("/")[1],d=l.path.split("/")[2];this.setState({pageId:n,pagePath:r,pageType:d}),t({type:"tests/fetchData",payload:{labID:n},token:a}),t({type:"users/fetchData",payload:{roles:"lab-admin",labID:n},token:a}),n?(t({type:"labs/fetchSingleData",payload:{id:n},token:a}),t({type:"slots/fetchData",payload:{labID:n,slotDate:(new Date).toJSON().slice(0,10)},token:a})):t({type:"labs/fetchSingleDataNull",payload:{id:n},token:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.singleData,l=t.loading,s=(t.orderData,t.testsData,t.labAdminData),m=t.slotsData,p=this.props.form.getFieldDecorator,v=this.state,y=v.pagePath,E=v.isEdit,g=a.workingHours?a.workingHours:[[],[]];return I.default.createElement(N.default,{title:"View Details",content:I.default.createElement(f.default,{icon:"caret-left",type:"primary",onClick:function(){return C.default.push("/".concat(y,"/all"))}},"Back")},I.default.createElement(b.default,{bordered:!1},I.default.createElement(k.default,{defaultActiveKey:"1"},I.default.createElement(z,{tab:"Details",key:"1"},I.default.createElement(c.default,{title:"",layout:"vertical",bordered:!0},I.default.createElement(c.default.Item,{label:"Lab Name"},a.labName),I.default.createElement(c.default.Item,{label:"NABL Certified"},a.nabl?"Yes":"No"),I.default.createElement(c.default.Item,{label:"Contact Person"},null===a||void 0===a?void 0:a.fullName),I.default.createElement(c.default.Item,{label:"Contact No."},null===a||void 0===a?void 0:a.phone),I.default.createElement(c.default.Item,{label:"Email ID"},null===a||void 0===a?void 0:a.email),I.default.createElement(c.default.Item,{label:"Available Tests"},(null===a||void 0===a?void 0:a.type)?(null===a||void 0===a?void 0:a.type).join():""),I.default.createElement(c.default.Item,{label:"Address"},a.address&&a.address[0]?a.address[0].address1:""),I.default.createElement(c.default.Item,{label:"Actions"},I.default.createElement(f.default,{type:"primary",onClick:function(){return C.default.push("/".concat(e.state.pagePath,"/").concat(a._id))}},"Edit"))),I.default.createElement("p",null),I.default.createElement(c.default,{title:"Working hours",layout:"vertical",bordered:!0},g[0].map(function(e,t){return I.default.createElement(c.default.Item,{key:t,label:e},g[1][t].join())}))),I.default.createElement(z,{tab:"Admins",key:"4"},s.map(function(e,t){var a,n;return I.default.createElement("div",{key:t,style:{float:"left",margin:10}},I.default.createElement(b.default,{style:{width:300,marginTop:16},loading:l},I.default.createElement(J,{avatar:I.default.createElement(i.default,{src:(null===e||void 0===e?void 0:null===(a=e.profile)||void 0===a?void 0:a.profileURL)||A.default}),title:null===e||void 0===e?void 0:null===(n=e.profile)||void 0===n?void 0:n.name,description:"ID: ".concat(null===e||void 0===e?void 0:e.employeeID)}),I.default.createElement("p",{style:{marginTop:16}},"Email: ",null===e||void 0===e?void 0:e.email),I.default.createElement("p",null,"Contact: ","".concat(null===e||void 0===e?void 0:e.countryCode," ").concat(null===e||void 0===e?void 0:e.phone)),I.default.createElement("p",null,"Department: ",null===e||void 0===e?void 0:e.department),I.default.createElement(f.default,{type:"primary",onClick:function(){return C.default.push("/labadmins/".concat(e._id))}},"Edit")))})),I.default.createElement(z,{tab:"View Slots",key:"5"},I.default.createElement(D.default,{layout:"inline"},I.default.createElement(r.default,{gutter:{md:8,lg:24,xl:48}},I.default.createElement(o.default,{md:6,sm:24},I.default.createElement(H,{label:"Schedule Date & Time"},p("labID",{initialValue:(0,T.default)(m[0]&&m[0].slotDate?m[0].slotDate:new Date,_)})(I.default.createElement(u.default,{allowClear:!1,style:{width:"100%"},onChange:this.handleSlots,format:_,placeholder:"Date & Time"})))),I.default.createElement(o.default,{md:6,sm:24},I.default.createElement("div",{style:{paddingTop:15}},I.default.createElement(d.default,{color:"green",text:"Booked"})),I.default.createElement("div",{style:{paddingTop:15}},I.default.createElement(d.default,{color:"gray",text:"Available"}))))),m.map(function(e,t){return I.default.createElement("div",{key:t,style:{float:"left",margin:10}},E&&I.default.createElement(n.default,null),I.default.createElement(d.default,{style:{marginLeft:5,backgroundColor:0===(null===e||void 0===e?void 0:e.booking)?"green":"gray"},count:"".concat(null===e||void 0===e?void 0:e.startTime,"  -   ").concat(null===e||void 0===e?void 0:e.endTime)}))})))))}}]),a}(I.PureComponent))||O)||O),Q=F;t.default=Q}}]);